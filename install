#!/usr/bin/env zsh

set -euo pipefail

readonly STOW_PATH="/opt/homebrew/bin/stow"
readonly DOTFILES="${HOME}/.config/dotfiles"
readonly DOTFILES_GIT="https://github.com/maddenvvs/dotfiles.git"
readonly PACKAGES=(\
  "git" \
  "kitty" \
  "vim" \
  "vscode" \
  "zsh" \
)

# Clone dotfiles repo to a predefined folder if they don't exist.
[[ ! -d "${DOTFILES}" ]] && git clone "${DOTFILES_GIT}" "${DOTFILES}"

# Install all stow packages.
"${STOW_PATH}" --no-folding -v -t "${HOME}" -d "${DOTFILES}" -R "${PACKAGES[@]}"

